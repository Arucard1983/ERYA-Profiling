<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.1.5.2 (Linux)"/>
	<meta name="created" content="2016-03-11T00:50:17.012769788"/>
	<meta name="changed" content="2019-05-29T18:00:36.193836993"/>
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<style type="text/css">
		@page { size: 21cm 29.7cm; margin: 2.01cm }
		p { margin-bottom: 0.25cm; background: transparent; line-height: 120%; background: transparent }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
		a:visited { color: #800000; so-language: zxx; text-decoration: underline }
	</style>
</head>
<body lang="pt-PT" link="#000080" vlink="#800000" dir="ltr"><p lang="en-US" align="center" style="margin-bottom: 0cm; line-height: 100%">
<font size="4" style="font-size: 16pt"><b>ERYA Profiling : Detector
and Resonance Editor</b></font></p>
<p align="center" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
 This tab window permits to the user define the major simulation
parameters, starting from the energy profiling spectrum to the
physical characteristics of the detector itself. Each main section
are self-explanatory, specially if the user had the basic knowledge
of PIGE analysis.</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<b>Some Basic Concepts</b></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
The detector can be modeled by some external factors, like the
temperature of the sample (default is 300 K), and internals, such as
the beam resolution. Other factors are related by the number of
points for the yield spectrum the user want to simulate, by choosing
a minimum, maximum and energy step value, not forgetting to define
the electric change of the experiment.</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
Optionally, the user can define a resonance to override the values
from the <a href="Database.html">Element’s Database</a>,
that can be a Lorentzian distribution or even a custom function.</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<b>Load and Save a Resonance Sample</b></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
Similar to other program options, it is possible to save and load the
Detector and Resonances inputs to a file, and create a collection of
profiles.</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
The Detector profiles can only by stored on <b>eprs</b> <b>(</b>ERYA
Profiling Ressonance Sample<b>) </b>extension, which is a XML file,
and should only be edited by this program.</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
In practice, it is possible to store all Elements, Layers and
Detector tabs on a single XML file with extension <b>epgs</b> (ERYA
Profiling Global Sample), using the File&gt;Load and File&gt;Save
menu commands.</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<b>Use a Lorentizian Resonance</b></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><span lang="en-US"><span style="font-weight: normal">If
the sample requires a custom Lorentzian Resonance, in order to bypass
the original cross-section data from the <a href="Database.html">Database
Manager</a>, select the radio option on the button on this current
tab to the “Lorentzian” (Default is “none”) one. </span></span>
</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<span style="font-weight: normal">Then you should define the
Resonance Peak in </span><u><span style="font-weight: normal">milibarns</span></u><span style="font-weight: normal">,
the Resonance Width(related to the Lorentzian Distribution width) and
Ressonance Energy in </span><u><span style="font-weight: normal">keV.</span></u></p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
The program will apply the following function:</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
f(x) = (RP * RW<sup>2</sup>/4) / (RW<sup>2</sup>/4 + (x-RE)<sup>2</sup>)</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
Where the domain are applicable between x<sub>min</sub> = RE – 5*RW
and x<sub>max</sub> = RE + 5*RW 
</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
<br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
It is possible to input several resonances, along the values are
separated by commas (,) in the correct order. If the number of values
for Resonance Peak, Width and Energy mismatches, ERYA will display an
error when try to run the simulation.</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
 In this case each individual resonance had their own 5-sigma domain,
and in case of overlapping domains, their values are summed up. 
</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
<br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
Without additional information, ERYA will take the global resonance
domain between the leftmost resonance peak, to the rightmost one by
the 5-sigma rule, but can be <span style="font-weight: normal">overridden
by selecting an optional check box, and inserting the requested
</span><span style="font-weight: normal">global </span><span style="font-weight: normal">minimum
and maximum values for the energy. Those values are always single
ones.</span></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<b>Use a Custom Resonance</b></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
The last option are the possibility to define any algebraic function
as a custom resonance, using the ERYA Macro language bundled on
ERYA-Profiling, to write the desired function.</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><span lang="en-US"><span style="font-weight: normal">The
user should define four variables as function parameters, then the
necessary number of constants, and finally the function itself.</span></span></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><span lang="en-US"><span style="font-weight: normal">Finally,
select the last option on bottom tab to activate the macro code mode
for the Resonance model.</span></span></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><span lang="en-US"><span style="font-weight: normal">Further
documentation about the ERYA macro can be obtained <a href="Macro.html">here</a>.</span></span></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><span lang="en-US"><b>Tip:
</b></span><span lang="en-US"><span style="font-weight: normal">The
custom function can by pasted to</span></span> <span lang="en-US"><span style="font-weight: normal"><a href="Calculator.html">Calculator</a>
tool for debugging purposes.</span></span></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
- An working function should follow the following template, as an
example:</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<b>fxvar = x , fyvar = y , fxmin = a , fxmax = b : a = 1000 , b = a +
10 , z = 10 : y = z * x</b></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
- Avoid undeclared initial values for the variables declared by
“fxmin” and “fxmax”, or it could return unexpected results.</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
- Using the relational operators, it is possible to define piecewise
functions such as:</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
<b>fxvar = x , fyvar = y , fxmin = a , fxmax = b : a = 1000 , b = a +
1000 , z = 10 : y = (x &gt; 1100) * ( x &lt; 1500) * z * x + (x&gt;1500)
* z / x</b></p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
To implement the following function:</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
f (x) = 10 * x , for 1100&lt;x&lt;1500</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
f (x) = 10 / x , for x&gt;1500</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; line-height: 100%">
As long 1000&lt;x&lt;2000, globally.</p>
<p align="left" style="margin-bottom: 0cm; line-height: 100%"><br/>

</p>
<p lang="en-US" align="left" style="margin-bottom: 0cm; font-weight: normal; line-height: 100%">
If the defined function fail to comply the requirements (a function
with limited domain), it will display an undefined function error
once the user click the “Run” button, since the first thing to
do, is to check all user inserted inputs on every relevant tabs.</p>
</body>
</html>
